<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Week 5 Lecture - Scalable Data Analytics</title><style>
/* cspell:disable-file */
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 3px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	text-indent: -1.7em;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

.simple-table {
	margin-top: 1em;
	font-size: 0.875rem;
	empty-cells: show;
}
.simple-table td {
	height: 29px;
	min-width: 120px;
}

.simple-table th {
	height: 29px;
	min-width: 120px;
}

.simple-table-header-color {
	background: rgb(247, 246, 243);
	color: black;
}
.simple-table-header {
	font-weight: 500;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-block;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	max-height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code-wrap {
	white-space: pre-wrap;
	word-break: break-all;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1.25em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

.bookmark {
	text-decoration: none;
	max-height: 8em;
	padding: 0;
	display: flex;
	width: 100%;
	align-items: stretch;
}

.bookmark-title {
	font-size: 0.85em;
	overflow: hidden;
	text-overflow: ellipsis;
	height: 1.75em;
	white-space: nowrap;
}

.bookmark-text {
	display: flex;
	flex-direction: column;
}

.bookmark-info {
	flex: 4 1 180px;
	padding: 12px 14px 14px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.bookmark-image {
	width: 33%;
	flex: 1 1 180px;
	display: block;
	position: relative;
	object-fit: cover;
	border-radius: 1px;
}

.bookmark-description {
	color: rgba(55, 53, 47, 0.6);
	font-size: 0.75em;
	overflow: hidden;
	max-height: 4.5em;
	word-break: break-word;
}

.bookmark-href {
	font-size: 0.75em;
	margin-top: 0.25em;
}

.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }
.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }
.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK JP'; }
.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC'; }
.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK TC'; }
.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK KR'; }
.pdf .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK JP'; }
.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK SC'; }
.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK TC'; }
.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK KR'; }
.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.highlight-default {
	color: rgba(55, 53, 47, 1);
}
.highlight-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.highlight-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.highlight-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.highlight-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.highlight-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.highlight-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.highlight-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.highlight-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.highlight-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.highlight-gray_background {
	background: rgba(241, 241, 239, 1);
}
.highlight-brown_background {
	background: rgba(244, 238, 238, 1);
}
.highlight-orange_background {
	background: rgba(251, 236, 221, 1);
}
.highlight-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.highlight-teal_background {
	background: rgba(237, 243, 236, 1);
}
.highlight-blue_background {
	background: rgba(231, 243, 248, 1);
}
.highlight-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.highlight-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.highlight-red_background {
	background: rgba(253, 235, 236, 1);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.block-color-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.block-color-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.block-color-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.block-color-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.block-color-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.block-color-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.block-color-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.block-color-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.block-color-gray_background {
	background: rgba(241, 241, 239, 1);
}
.block-color-brown_background {
	background: rgba(244, 238, 238, 1);
}
.block-color-orange_background {
	background: rgba(251, 236, 221, 1);
}
.block-color-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.block-color-teal_background {
	background: rgba(237, 243, 236, 1);
}
.block-color-blue_background {
	background: rgba(231, 243, 248, 1);
}
.block-color-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.block-color-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.block-color-red_background {
	background: rgba(253, 235, 236, 1);
}
.select-value-color-pink { background-color: rgba(245, 224, 233, 1); }
.select-value-color-purple { background-color: rgba(232, 222, 238, 1); }
.select-value-color-green { background-color: rgba(219, 237, 219, 1); }
.select-value-color-gray { background-color: rgba(227, 226, 224, 1); }
.select-value-color-opaquegray { background-color: rgba(255, 255, 255, 0.0375); }
.select-value-color-orange { background-color: rgba(250, 222, 201, 1); }
.select-value-color-brown { background-color: rgba(238, 224, 218, 1); }
.select-value-color-red { background-color: rgba(255, 226, 221, 1); }
.select-value-color-yellow { background-color: rgba(253, 236, 200, 1); }
.select-value-color-blue { background-color: rgba(211, 229, 239, 1); }

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style></head><body><article id="5b3f4c42-687a-4459-af05-7076dd838393" class="page sans"><header><h1 class="page-title">Week 5 Lecture - Scalable Data Analytics</h1><table class="properties"><tbody><tr class="property-row property-row-created_time"><th><span class="icon property-icon"><svg viewBox="0 0 14 14" style="width:14px;height:14px;display:block;fill:rgba(55, 53, 47, 0.45);flex-shrink:0;-webkit-backface-visibility:hidden" class="typesCreatedAt"><path d="M7.01356 14.0001C8.8042 14.0001 10.5958 13.3107 11.9575 11.9324C14.681 9.21201 14.6808 4.7603 11.9571 2.04013C9.23336 -0.680043 4.77573 -0.680043 2.05199 2.04013C0.727519 3.36277 0 5.13301 0 6.99553C0 8.8764 0.727811 10.6285 2.05199 11.9509C3.43207 13.3106 5.22243 14.0001 7.01356 14.0001ZM3.72947 7.00914V8.461V8.65543H3.92382H5.34563H8.2794H8.4738V8.461V5.52541V3.37947V3.18502H8.2794H6.82747H6.63307V3.37947V6.81467H3.92382H3.72947V7.00914ZM1.83985 6.99553C1.83985 5.61698 2.38099 4.32597 3.36061 3.3477C5.36746 1.34337 8.64803 1.34062 10.6585 3.33944C10.6613 3.34219 10.6639 3.34494 10.6668 3.3477C12.676 5.3546 12.6763 8.63642 10.6668 10.6434C8.65705 12.6504 5.37031 12.6504 3.36061 10.6434C2.38099 9.66506 1.83985 8.37408 1.83985 6.99553Z"></path></svg></span>Created time</th><td><time>@March 24, 2022 7:04 PM</time></td></tr><tr class="property-row property-row-select"><th><span class="icon property-icon"><svg viewBox="0 0 14 14" style="width:14px;height:14px;display:block;fill:rgba(55, 53, 47, 0.45);flex-shrink:0;-webkit-backface-visibility:hidden" class="typesSelect"><path d="M7,13 C10.31348,13 13,10.31371 13,7 C13,3.68629 10.31348,1 7,1 C3.68652,1 1,3.68629 1,7 C1,10.31371 3.68652,13 7,13 Z M3.75098,5.32278 C3.64893,5.19142 3.74268,5 3.90869,5 L10.09131,5 C10.25732,5 10.35107,5.19142 10.24902,5.32278 L7.15771,9.29703 C7.07764,9.39998 6.92236,9.39998 6.84229,9.29703 L3.75098,5.32278 Z"></path></svg></span>Unit</th><td><span class="selected-value select-value-color-purple">DATA2901</span></td></tr></tbody></table></header><div class="page-body"><figure class="block-color-gray_background callout" style="white-space:pre-wrap;display:flex" id="79d76e0f-db84-49d6-8745-a144feee3891"><div style="font-size:1.5em"><span class="icon">üìå</span></div><div style="width:100%">The Role of Indexes and Data Partitioning</div></figure><nav id="ec588331-b80f-4bee-8a46-7fe25a7bf316" class="block-color-gray table_of_contents"><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#b5f7ce32-aec5-4a83-9973-dc4b56c8d3c2">Data Storage Approaches</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#2b5de4b3-24e5-416f-b4ab-89c664420114">Row Stores</a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#2cbff3f1-dcc3-4c38-88a4-09c790b2cd4f">Heap Files</a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#363b44f3-cd23-4508-ac11-ed96d840bc50">Sorted Files</a></div><div class="table_of_contents-item table_of_contents-indent-1"><a class="table_of_contents-link" href="#cdde378c-81a6-4375-9959-a7e7c8adf8c9">Column Stores</a></div><div class="table_of_contents-item table_of_contents-indent-2"><a class="table_of_contents-link" href="#0eec8b6d-0a6a-4610-a966-ac282ad477de">Indexing</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#2607b293-d64d-4c75-a16f-6110509bfdec">Distributed Data Management</a></div></nav><h1 id="b5f7ce32-aec5-4a83-9973-dc4b56c8d3c2" class="">Data Storage Approaches</h1><p id="a6d26b93-549a-4f7c-b5ff-f9ae7badde8c" class="">Where is data stored?<div class="indented"><ul id="2260637a-e5a5-4b67-9c2e-650d853cf79c" class="bulleted-list"><li style="list-style-type:disc">CPU (cache): tiny, very fast</li></ul><ul id="6fd45701-38f7-4c4c-80b6-9069290181bf" class="bulleted-list"><li style="list-style-type:disc">Main memory (RAM): expensive, volatile, fast</li></ul><ul id="e35bc1c2-c478-4b3e-a0e4-ee649fd57de7" class="bulleted-list"><li style="list-style-type:disc">Secondary storage (HDD): cheap, stable, big, slow</li></ul><ul id="74f75702-7eaf-4520-9959-9b7955da3423" class="bulleted-list"><li style="list-style-type:disc">Tertiary storage: very cheap, stable, very slow</li></ul></div></p><p id="139a9918-51d0-46e6-8979-6ab3e7a6a13b" class="">How to access data on secondary storage fast?<div class="indented"><ul id="239df5ad-e38f-4a88-a006-35cbc40a5e48" class="bulleted-list"><li style="list-style-type:disc">Block-wise transfer<p id="85ec2d2c-7df2-4203-82ca-f5b63aeaf880" class="">Transfer data in fixed-size chunks between storage layers.</p></li></ul><ul id="9d0a9915-ca52-4dc2-a7dc-73f294397bc1" class="bulleted-list"><li style="list-style-type:disc">Cacheing/Buffering<p id="b51908a5-a635-4074-9508-a7bf5614772d" class="">Keep ‚Äúhot‚Äù data in memory, and use secondary storage for ‚Äúcold‚Äù data.</p></li></ul><ul id="8f53081b-917c-4c56-b1e9-a41a5ee22c7b" class="bulleted-list"><li style="list-style-type:disc">Optimizing file organization<p id="8a6cc00a-e32b-4e61-ab04-c581bb476195" class="">Heap files vs sorted files; row stores vs column stores</p></li></ul><ul id="fcd34f57-1a82-4ffe-a601-6d6e5d278321" class="bulleted-list"><li style="list-style-type:disc">Indexing</li></ul><ul id="c726bdce-24cf-416b-95a5-485877548410" class="bulleted-list"><li style="list-style-type:disc">Partitioning</li></ul></div></p><p id="768d6d1d-a657-4167-bf41-2e97ec7d7e6a" class="">How to store a database?</p><p id="3b74a834-c312-4d2e-977b-4e46a2d16c12" class=""><strong>Logical data design</strong><div class="indented"><p id="9ddbc176-d3b9-4d5a-aa43-ab6c7be75c78" class="">A database is a collection of relations. Each relation is a set of <em>records</em> (or <em>tuples</em>). A record is a sequence of <em>fields</em> (or <em>attributes</em>).</p></div></p><p id="b51ac934-b6d8-4386-84ff-970cfc91aa31" class=""><strong>Physical data design</strong><div class="indented"><p id="2c03daeb-2974-444c-b048-cc042d3e381a" class="">File Organisations</p><ul id="f2e821da-4f14-4520-bd6c-80ae61d46a95" class="bulleted-list"><li style="list-style-type:disc">Heap files: an unordered set of records, stored on a set of pages.</li></ul><ul id="93e805b4-5816-4deb-8a56-0434ff7b6daf" class="bulleted-list"><li style="list-style-type:disc">Sorted files: one in which records are stored in order of the values of one field, or order of the concatenation of several fields.</li></ul><ul id="9a5a9c64-23d4-4f76-a9e6-dd355e716bd4" class="bulleted-list"><li style="list-style-type:disc">Indexes</li></ul></div></p><h2 id="2b5de4b3-24e5-416f-b4ab-89c664420114" class="">Row Stores</h2><h3 id="2cbff3f1-dcc3-4c38-88a4-09c790b2cd4f" class="">Heap Files</h3><p id="a72bf04a-57e4-4618-ae16-57c8039548a7" class="">Heap files are the simplest file structure that contains records in no particular order.</p><p id="a673dd12-673b-4c12-ab0b-5f1096692f6b" class="">The access method is a <em>linear scan</em>:<div class="indented"><ul id="04587439-ee22-4ba3-9659-665c59eab5a6" class="bulleted-list"><li style="list-style-type:disc">On average half of the pages must be read - <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span><span>Ôªø</span></span> time complexity.</li></ul><ul id="115e8ccb-6649-4998-8092-2cea1ee5623c" class="bulleted-list"><li style="list-style-type:disc">Efficient only if all rows are returned, but very inefficient if a few rows are requested.</li></ul></div></p><p id="e8209f4b-2073-4de1-8955-d68f313132dd" class="">Rows are appended to the end of the file as they are inserted.<div class="indented"><ul id="2d61ffb0-773a-4429-8e0b-d2e5b040229c" class="bulleted-list"><li style="list-style-type:disc">Hence, the file is unsorted.</li></ul><ul id="50191e0c-6487-4590-af2f-e2afbd2d80a6" class="bulleted-list"><li style="list-style-type:disc">Deleted rows create gaps in the file. The file must be periodically compacted to recover space.</li></ul></div></p><h3 id="363b44f3-cd23-4508-ac11-ed96d840bc50" class="">Sorted Files</h3><p id="14b304e5-c1aa-4c51-9ae2-087a9d8504ab" class="">Rows are sorted based on some attributes.</p><p id="e8b56b01-4bf4-4caf-994a-5088dedf3465" class="">The access method can be a <em>binary search</em> of <style>@import url('https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.2/katex.min.css')</style><span data-token-index="0" contenteditable="false" class="notion-text-equation-token" style="user-select:all;-webkit-user-select:all;-moz-user-select:all"><span></span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>log</mi><mo>‚Å°</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(\log n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span><span>Ôªø</span></span> time complexity.</p><p id="cb06d2a8-3f80-4541-a69d-fb0d9c92bb11" class="">The order must be maintained when inserting data:<div class="indented"><ul id="c0805abd-514a-474f-b2ce-06b520f5b619" class="bulleted-list"><li style="list-style-type:disc">Finding the correct position to insert the data.</li></ul><ul id="08612df2-82b8-49bd-bd83-ba657bd9a965" class="bulleted-list"><li style="list-style-type:disc">Moving subsequent data to make space (very expensive).</li></ul><ul id="d2e92501-28d7-4f13-af85-8d7880774760" class="bulleted-list"><li style="list-style-type:disc">Deleted rows create gaps in the file. The file must be periodically compacted to recover space.</li></ul></div></p><p id="6289bc2b-3475-4d87-b0b9-d604b3c0f0e4" class="">Usually not used by DBMS.</p><h2 id="cdde378c-81a6-4375-9959-a7e7c8adf8c9" class="">Column Stores</h2><p id="8ea5e0aa-c28a-4f0a-b851-7b18ea80be4c" class="">In a row store approach, attributes of a record are stored together.</p><p id="d73e09dd-d48f-4ddb-8b4c-9da7c00cb1b0" class="">For analytical workloads, a <em>column-oriented store</em> is an attractive alternative.</p><p id="bbe64286-b8d2-45c4-82c5-cef9e6544a26" class="">This approach is popular among analytical databases.</p><p id="f3110f24-94a1-4062-86eb-f2510b8a3276" class=""><strong>Pros and Cons</strong></p><p id="cb027861-793e-4f08-aea1-6a2caf282bed" class="">Advantages<div class="indented"><ul id="dc6e9d7b-8c09-4e80-8c58-b0d85517da60" class="bulleted-list"><li style="list-style-type:disc">Attributes not needed do not have to be read
Less IO; more efficient scan for OLAP-style aggregation queries.</li></ul><ul id="0aa4cb28-f40e-4857-bb1b-b5a71e658ba5" class="bulleted-list"><li style="list-style-type:disc">More possibilities for compression
Less IO; same data type means more uniform data.</li></ul><ul id="8aaa9872-7cbe-411d-abbb-58a4cef8d185" class="bulleted-list"><li style="list-style-type:disc">Better parallel processing</li></ul></div></p><p id="4a7e0070-9c50-415c-9ee7-c6414eecb0ca" class="">Disadvantages<div class="indented"><ul id="28637f07-e6e7-46b6-9024-6d0a142df4ea" class="bulleted-list"><li style="list-style-type:disc">Updates are more complicated</li></ul><ul id="52bf917e-d9b7-4e19-9956-d3e7bbc65b88" class="bulleted-list"><li style="list-style-type:disc">Full-row access is more expensive</li></ul><ul id="d1f6b76a-f8df-428a-904d-5165bff6ccf1" class="bulleted-list"><li style="list-style-type:disc">Less efficient for small-table data</li></ul></div></p><h3 id="0eec8b6d-0a6a-4610-a966-ac282ad477de" class="">Indexing</h3><p id="284497a8-399e-440a-9ab7-206a68debb03" class="">An index is on one or more specific fields in a database. We say the field (or fields) is a search key of that index. If the search key consists of more than one field, we say it‚Äôs a multi-attribute index.</p><p id="83de73c0-9d55-4e09-8c69-ad45aa9ec6cf" class=""><strong>Index structure choices</strong><div class="indented"><ul id="72323f1b-bd93-44d9-8082-d57de74d3dd7" class="bulleted-list"><li style="list-style-type:disc">Tree index: search keys are stored in sorted order. It is very flexible for range queries and prefix searches.</li></ul><ul id="b798c3f4-d4cd-48d0-afd5-d25270aada5a" class="bulleted-list"><li style="list-style-type:disc">Hash index: search keys are distributed uniformly across ‚Äúbuckets‚Äù in the index using a hash function. It is very fast for equality searches.</li></ul><ul id="f1ecf008-6880-4f8d-9d99-192fd371eabe" class="bulleted-list"><li style="list-style-type:disc">R-tree: spatial databases</li></ul><ul id="2c2a80ef-6a40-4f48-8fcb-a8367d57de17" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-gray">Bitmap index: OLAP</mark></li></ul></div></p><p id="48e0940a-1e15-4474-bad0-96f644bc8a4e" class=""><strong>Downsides</strong><div class="indented"><ul id="71dfd26a-b418-4556-8652-4b8db75731c2" class="bulleted-list"><li style="list-style-type:disc">There are additional I/O costs to access index pages.
We hope that this is less than the saving of more efficient finding of data records.</li></ul><ul id="602f3e0e-1ccc-45fe-9336-4949478f8527" class="bulleted-list"><li style="list-style-type:disc">The index must be updated when the table is modified.
Every additional index makes updates slower.</li></ul><ul id="0c160dca-a80d-4972-b525-827fe46e6d0c" class="bulleted-list"><li style="list-style-type:disc">More decisions to make.
Index on the primary key is usually automatically created. Other indices must be defined by DBA or user.</li></ul></div></p><p id="8d634715-0445-4226-8f71-5dfad4cf9bfd" class=""><strong>Clustered and unclustered index</strong></p><p id="93d452da-099a-4d8b-9c6f-fff4076846cc" class="">In a clustered index, entries and rows are ordered in the same way. The particular index structure indicates how the rows are organized in the storage structure. There can be <strong>at most one</strong> clustering index per table. This is good for a <strong>range search</strong> over the search key values. The <code>CREATE TABLE</code> statement generally creates a clustered index on the primary key, although this is not the case in PostgreSQL.</p><p id="423324aa-dbb6-41aa-9412-67f5c8939292" class="">In an unclustered index, entries and rows are not necessarily ordered in the same way. You can have multiple of them in one relation. It is still beneficial for performance but not as much as clustered ones.</p><p id="69a1d552-2aa6-4127-9895-f2e0ab843cfb" class=""><strong>Covering index</strong></p><p id="79ae7173-172b-4009-a171-b234269848b5" class="">An index that contains all attributes required to answer a given SQL query. This is typically a multi-attribute index. The order of attributes is important, attributes in the <code>WHERE</code> clause are included first.</p><h1 id="2607b293-d64d-4c75-a16f-6110509bfdec" class="">Distributed Data Management</h1><p id="7fd72a85-2564-4874-9a50-7cd82dbf2899" class="">So far we only considered a <em>stand-alone</em> server. A single server has limits. For real big data processing, we need to <em>scale out</em> to a cluster of multiple servers (nodes).</p><p id="4b171443-2f5e-428a-a0bc-55d3a9c282b0" class="">Two main physical design techniques:</p><ul id="90422800-8432-495c-ae01-52a13d529fc9" class="bulleted-list"><li style="list-style-type:disc">Data partitioning
Storing sub-sets of the original data set at different places. The goal is to query smaller data sets and to gain scalability by parallelism.<ul id="f8a2ff35-1c61-4290-8909-9d74f860ccd3" class="bulleted-list"><li style="list-style-type:circle">Horizontal partitioning: sets of rows (known as shards)</li></ul><ul id="077ee1b0-b433-4b76-9f46-1482188e8d04" class="bulleted-list"><li style="list-style-type:circle">Vertical partitioning: sets of columns</li></ul></li></ul><ul id="f40cdada-6b46-49d2-984d-e3f4ee84b99f" class="bulleted-list"><li style="list-style-type:disc">Data replication
Storing copies of the same data in more than one place. The goal here is fail-safe/availability.</li></ul><p id="e116b076-4a3d-412e-95fe-a83b02e53beb" class="">Two to place data into partitions?</p><ul id="94119d04-aa19-4484-847d-fba96e126388" class="bulleted-list"><li style="list-style-type:disc">round-robin</li></ul><ul id="aa683ce2-73f4-4f8c-b5be-4a854ee1241e" class="bulleted-list"><li style="list-style-type:disc">hash partitioning</li></ul><ul id="8d1e0340-ed18-46fa-8265-e061e6487ae5" class="bulleted-list"><li style="list-style-type:disc">range partitioning</li></ul><p id="d4c48712-d44c-40eb-949d-fca37dede6e7" class="">
</p></div></article></body></html>